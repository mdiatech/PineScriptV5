"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[88959],{561169:(e,n,t)=>{t.d(n,{generateBuiltinsData:()=>l,getReference:()=>p,replaceType:()=>a});var i=t(681025),o=t(697706),r=t(507904);function a(e){return e.replace(/<.*>/,"")}function s({docItems:e,mapperFunction:n,kind:t,key:i="name"}){const o=new Map,r=n||(e=>({...e,kind:t}));return e.map((e=>[a(e[i]),r(e)])).forEach((([e,n])=>{var t;o.has(e)?null===(t=o.get(e))||void 0===t||t.push(n):o.set(e,[n])})),o}function c(e){var n;return{...e,kind:r.DocItemKind.BuiltinType,fields:null===(n=e.fields)||void 0===n?void 0:n.map((e=>({...e,kind:r.DocItemKind.Field})))}}function u(e){return n=>({...n,kind:e,args:n.args||[]})}function d(e){return Array.from(new Set(e.map((e=>a(e.name))))).sort()}async function l(e,n){n||(n=await p(e));const t=s({docItems:n.functions,kind:r.DocItemKind.BuiltInFunction,mapperFunction:u(r.DocItemKind.BuiltInFunction)}),i=s({docItems:n.variables,kind:r.DocItemKind.BuiltInVariable}),l=s({docItems:n.operators,kind:r.DocItemKind.Operator}),m=s({docItems:n.keywords,kind:r.DocItemKind.Keyword}),I=s({docItems:n.methods,kind:r.DocItemKind.BuiltinMethod,mapperFunction:u(r.DocItemKind.BuiltinMethod),key:"originalName"}),f=s({docItems:n.types,kind:r.DocItemKind.BuiltinType,mapperFunction:c}),y=s({docItems:n.constants,kind:r.DocItemKind.Constant});t.forEach(o.sortDocsMapByPriority),I.forEach(o.sortDocsMapByPriority);const g=d(n.types),h=d(n.keywords),D=d(n.functions),E=d(n.variables),w=d(n.methods),b=d(n.constants);return{constantsDocsMap:y,functionsDocsMap:t,operatorsDocsMap:l,variablesDocsMap:i,keywordsDocsMap:m,methodsDocsMap:I,typesDocsMap:f,templatesList:function(e){const n=[];for(const t of e)if("template"in t){const e=a(t.name);e.endsWith(".new")&&n.push(e.replace(".new",""))}return n}(n.functions),constantsList:b,functionsList:D,variablesList:E,keywordsList:h,methodsList:w,typesList:g}}async function p(e){let n;switch(e){case i.PineLanguage.V4:n=(await Promise.all([t.e(53064),t.e(77199),t.e(27470),t.e(83941),t.e(18454)]).then(t.bind(t,18454))).default;break;case i.PineLanguage.V5:n=(await Promise.all([t.e(53064),t.e(77199),t.e(7276),t.e(22166)]).then(t.bind(t,343481))).default;break;default:n=(await Promise.all([t.e(53064),t.e(27470),t.e(37443),t.e(60654)]).then(t.bind(t,660654))).default}return n}},507904:(e,n,t)=>{var i;t.d(n,{DocItemKind:()=>i}),function(e){e.Argument="argument",e.Keyword="keyword",e.Field="field",e.UserFunction="function",e.BuiltInFunction="builtinFunction",e.Library="library",e.UserVariable="variable",e.BuiltInVariable="builtinVariable",e.Namespace="namespace",e.Operator="operator",e.Constant="constant",e.Annotation="annotation",e.UserMethod="method",e.BuiltinMethod="builtinMethod",e.UserType="type",e.BuiltinType="builtinType"}(i||(i={}))},214133:(e,n,t)=>{t.d(n,{LAST_PINE_VERSION:()=>a,MINIMAL_PINE_VERSION:()=>r,SCRIPT_TYPE_REGEX:()=>l,URI_AUTHORITY:()=>s,URI_EXTENSION:()=>c,URI_SCHEME:()=>u,VALID_SCRIPT_ID_REGEX:()=>d});var i=t(561169),o=t(681025)
;const r=3,a=5,s="tradingview.com",c=".pine",u="inmemory",d=(new RegExp(`(?:${(0,i.replaceType)(s)}\\/)(.*)(?:${(0,i.replaceType)(c)})(?:\\??.*)`),/^(?:USER|PUB|STD);.*/),l=new RegExp(`(${Object.values(o.ScriptType).join("|")}){1}\\(.*\\)`)},388959:(e,n,t)=>{t.d(n,{getPineLanguage:()=>r,parsePineVersion:()=>s,parseScriptType:()=>a});var i=t(681025),o=t(214133);function r(e){switch(e){case 4:return i.PineLanguage.V4;case 5:return i.PineLanguage.V5;default:return i.PineLanguage.V3}}function a(e){const n=o.SCRIPT_TYPE_REGEX.exec(e);return(null==n?void 0:n.length)&&n[1]?n[1]:i.ScriptType.Indicator}function s(e,n=o.MINIMAL_PINE_VERSION){const t=/^\s*\/\/\s*?@version\s*?=\s*?(\S*?)\s*?$/gm.exec(e);if(null===t)return n;const i=t[1],r=/^[0-9]+$/.test(i)?Number(i):NaN;return isNaN(r)?n:Math.max(o.MINIMAL_PINE_VERSION,Math.min(r,o.LAST_PINE_VERSION))}},697706:(e,n,t)=>{t.d(n,{sortDocsMapByPriority:()=>s});const i={const:0,input:1,simple:2,series:3},o={int:1,float:2,bool:90};function r(e,n){const t=e.args||[],i=n.args||[],o=100*t.length,r=100*i.length;return a(t)+o-(a(i)+r)}function a(e){return e.reduce(((e,n)=>{if(!n.allowedTypeIDs)return 0;return e+n.allowedTypeIDs.reduce(((e,n)=>{const[t,r]=d(n);return t&&c(t)?e+(c(s=t)?i[s]:0)+(u(a=r)?o[a]:0):e;var a,s}),0)}),0)}function s(e,n,t){t.set(n,e.sort(r))}function c(e){return e in i}function u(e){return e in o}function d(e){const n=e.split(" ");return 1===n.length?[null,e]:n}}}]);