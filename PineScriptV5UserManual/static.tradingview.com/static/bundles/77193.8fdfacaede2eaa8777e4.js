"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[77193,40254,93644],{745269:(e,t,i)=>{i.d(t,{CubicBezier:()=>s,color:()=>_,dur:()=>n,easingFunc:()=>r});const n=350,r={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e};class s{constructor(e,t,i,n){this._mX1=e,this._mY1=t,this._mX2=i,this._mY2=n}easingFunc(e){return this._mX1===this._mY1&&this._mX2===this._mY2?e:this._calcBezier(this._getTForX(e))}_a(e,t){return 1-3*t+3*e}_b(e,t){return 3*t-6*e}_c(e){return 3*e}_calcBezier(e){return((this._a(this._mY1,this._mY2)*e+this._b(this._mY1,this._mY2))*e+this._c(this._mY1))*e}_getSlope(e){return 3*this._a(this._mX1,this._mX2)*e*e+2*this._b(this._mX1,this._mX2)*e+this._c(this._mX1)}_getTForX(e){let t=e;for(let i=0;i<4;++i){const i=this._getSlope(t);if(0===i)return t;t-=(this._calcBezier(t)-e)/i}return t}}const _={black70:"#4A4A4A",black80:"#535353"}},83436:(e,t,i)=>{i.d(t,{Icon:()=>r});var n=i(50959);const r=n.forwardRef(((e,t)=>{const{icon:i="",...r}=e;return n.createElement("span",{...r,ref:t,dangerouslySetInnerHTML:{__html:i}})}))},332827:(e,t,i)=>{i.d(t,{initAllAnalytics:()=>d});var n=i(49336),r=i(588948),s=i(719718);(0,r.updateInitData)();var _;function o(e){(0,s.marketingAnalyticsEnabled)()&&(0,s.createImage)((e=>`https://www.facebook.com/tr?id=${(0,r.getInitData)().fbTagId}&ev=${e}&noscript=1`)(e))}!function(e){e.PageView="PageView",e.CompleteRegistration="CompleteRegistration",e.StartTrial="StartTrial",e.Subscribe="Subscribe"}(_||(_={}));var a=i(665343),l=i(975420),c=i(776734);var u=i(261030);async function d(e){if(o(_.PageView),(0,a.trackTwitterEvent)(a.TwitterEvent.SiteVisit),await Promise.all([n.whenDocumentReadyPromise,e]),(0,l.initGA)(),!function(){try{return null===top||window!==window.top||document!==top.document||self.location!==top.location}catch(e){return!0}}()){const e=await(0,c.getTracker)();e&&(await u.cookieSettingsReady.promise,e.trackPageView())}}},975420:(e,t,i)=>{i.d(t,{initGA:()=>l,trackTiming:()=>c});var n=i(251954),r=i(261030),s=i(588948),_=i(638456),o=i(691805);let a=!1;function l(){if(a)return;(0,s.updateInitData)();const e=(0,s.getInitData)();if(!e.gaId)return void(window.gtag=()=>{});a=!0,(0,o.appendScript)(`https://www.googletagmanager.com/gtag/js?id=${(0,s.getInitData)().gaId}`),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date);const t={anonymize_ip:!0};window.TVD&&(t.app_name="TVD",t.app_version=(0,_.desktopAppVersion)()),e.gaVars&&window.gtag("set",e.gaVars),window.gtag("consent","default",{analytics_storage:(0,r.getCookieSetting)(r.CookieSettings.Analytics)?"granted":"denied"}),window.gtag("config",e.gaId,t),
n.subscribe(r.cookieSettingsChangeEvent,((e,t)=>{e===r.CookieSettings.Analytics&&window.gtag("consent","update",{analytics_storage:t?"granted":"denied"})}),null)}function c(e,t,i,n){l(),window.gtag("event","timing_complete",{name:t,value:i,event_category:e,event_label:n})}},461909:(e,t,i)=>{function n(e){if(void 0===e)return null;const t=e.match(/(delayed_streaming)_([\d]{1,4})/);return null===t?null:{mode:t[1],interval:parseInt(t[2])}}function r(e){const t=n(e.update_mode);return null===t||(e.update_mode=t.mode,e.update_mode_seconds=t.interval),e}i.r(t),i.d(t,{normalizeUpdateMode:()=>r,parseUpdateMode:()=>n})},740254:(e,t,i)=>{i.d(t,{canUpgradePlan:()=>h,enabled:()=>c,getConfig:()=>d,getProductFeaturesConfig:()=>u,getProductId:()=>l});var n=i(650151)
;const r=JSON.parse('{"free":{"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":3},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":1,"complex_limit":1,"primitive_limit":5},"SCREENER_ALERTS":{"limit":1},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1},"WATCHLIST_SYMBOLS":{"limit":30}},"__legacy_pro":{"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":99999},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":99999},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"MULTIFLAGGED_SYMBOLS_LISTS":{},"BAR_REPLAY_INTRADAY":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true}},"__legacy_pro_realtime":{"extends":"__legacy_pro","BACKEND_CONNECTIONS":{"limit":20},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":1000},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"BACKTESTING_EXPORT":{}},"__legacy_pro_premium":{"extends":"__legacy_pro_realtime","BACKEND_CONNECTIONS":{"limit":50},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"USE_BAR_MAGNIFIER":{},"HISTORICAL_BARS":{"limit":20},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{}},"pro":{"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20,"complex_limit":20,"primitive_limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_NEW_EXPORT_CSV_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":1},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"INDICATORS_ON_CHART":{"limit":10},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":9},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":100,"complex_limit":100,"primitive_limit":100},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"INDICATORS_ON_CHART":{"limit":25},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":270,"child_limit":24},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":400,"complex_limit":400,"primitive_limit":400},"SIMULTANEOUS_CONNECTIONS":{"limit":5},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":4},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{}},"pro_expert":{"extends":"pro_premium","INDICATORS_ON_CHART":{"limit":30},"STUDY_ON_STUDY":{"limit":270,"child_limit":29},"MULTIPLE_CHARTS":{"limit":10},"HISTORICAL_BARS":{"limit":25},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":600,"complex_limit":600,"primitive_limit":600},"BACKEND_CONNECTIONS":{"limit":80}},"pro_realtime_expert":{"extends":"pro_expert","INDICATORS_ON_CHART":{"limit":35},"STUDY_ON_STUDY":{"limit":270,"child_limit":34},"MULTIPLE_CHARTS":{"limit":12},"HISTORICAL_BARS":{"limit":30},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":800,"complex_limit":800,"primitive_limit":800},"BACKEND_CONNECTIONS":{"limit":120}},"pro_premium_expert":{"extends":"pro_realtime_expert","INDICATORS_ON_CHART":{"limit":50},"STUDY_ON_STUDY":{"limit":270,"child_limit":49},"MULTIPLE_CHARTS":{"limit":16},"HISTORICAL_BARS":{"limit":40},"SERVER_SIDE_ALERTS":{"overall_limit":4000,"limit":1000,"complex_limit":1000,"primitive_limit":1000},"BACKEND_CONNECTIONS":{"limit":200}}}'),s=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')
;var _=i(833813),o=i(822122),a=i(255453);function l(e){let t=window.user;e&&(t=e);let i=(null==t?void 0:t.pro_plan)||o.ProPlans.Free;const n=i!==o.ProPlans.Free&&!(0,a.isTrialProduct)(i);return n||(i=(0,a.getProductForTrial)(i)),n&&t&&!t.new_pro_product_line&&(i=`__legacy_${i}`),i}function c(e,t,i){let n=window.user;i&&(n=i);const r=d(e,t,n);return!!r&&!(r[_.ProductFeatures.DISABLE_ON_TRIAL]&&(!n||n.is_trial))}function u(e){const t=r[e];return t?t.extends?Object.assign({},u(t.extends),t):t:null}function d(e,t,i){var n;let r=u(t||l(i));if(!r)return null;const _=null===(n=window.TradingView)||void 0===n?void 0:n.widgetCustomer;return _&&s[_]&&(r=Object.assign({},r,s[_])),r&&r[e]||null}function h(){var e,t,i,r;const s=null!==(t=null===(e=d(_.ProductFeatures.BACKEND_CONNECTIONS))||void 0===e?void 0:e.limit)&&void 0!==t?t:0,o=(0,n.ensureDefined)(window.pro),a=o.getProductsByType(o.PRODUCT_TYPES.pro_plan);for(const e of a)if((null!==(r=null===(i=d(_.ProductFeatures.BACKEND_CONNECTIONS,(0,n.ensureDefined)(e.id)))||void 0===i?void 0:i.limit)&&void 0!==r?r:0)>s)return!0;return!1}},833813:(e,t,i)=>{var n;i.d(t,{ProductFeatures:()=>n,UNLIMITED_FEATURE_LIMIT:()=>r}),function(e){e.DISABLE_ON_TRIAL="disable_on_trial",e.CUSTOM_INTERVALS="CUSTOM_INTERVALS",e.CHART_STORAGE="CHART_STORAGE",e.MULTIPLE_CHARTS="MULTIPLE_CHARTS",e.MULTIPLE_WATCHLISTS="MULTIPLE_WATCHLISTS",e.IMPORT_WATCHLISTS="IMPORT_WATCHLISTS",e.EXPORT_WATCHLISTS="EXPORT_WATCHLISTS",e.WATCHLIST_SYMBOLS="WATCHLIST_SYMBOLS",e.INDICATORS_ON_CHART="INDICATORS_ON_CHART",e.STUDY_ON_STUDY="STUDY_ON_STUDY",e.TICK_BY_TICK_PUSH_DATA="TICK_BY_TICK_PUSH_DATA",e.SERVER_SIDE_ALERTS="SERVER_SIDE_ALERTS",e.PUBLISH_INVITE_ONLY_SCRIPTS="PUBLISH_INVITE_ONLY_SCRIPTS",e.PUBLISH_PROTECTED_SCRIPTS="PUBLISH_PROTECTED_SCRIPTS",e.SCREENER_ALERTS="SCREENER_ALERTS",e.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",e.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",e.SCREENER_INTERVALS="SCREENER_INTERVALS",e.SCREENER_NEW_AUTO_REFRESH="SCREENER_NEW_AUTO_REFRESH",e.SCREENER_NEW_EXPORT_CSV_DATA="SCREENER_NEW_EXPORT_CSV_DATA",e.SIMULTANEOUS_CONNECTIONS="SIMULTANEOUS_CONNECTIONS",e.BACKEND_CONNECTIONS="BACKEND_CONNECTIONS",e.STUDY_TEMPLATES="STUDY_TEMPLATES",e.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",e.NO_SPONSORED_ADS="NO_SPONSORED_ADS",e.IDC_AVAILABLE_DELAY="IDC_AVAILABLE_DELAY",e.STATUS="STATUS",e.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",e.MULTIFLAGGED_SYMBOLS_LISTS="MULTIFLAGGED_SYMBOLS_LISTS",e.BAR_REPLAY_INTRADAY="BAR_REPLAY_INTRADAY",e.TV_VOLUMEBYPRICE="TV_VOLUMEBYPRICE",e.ALERTS_WEBHOOK="ALERTS_WEBHOOK",e.DEEP_FUNDAMENTALS_HISTORY="DEEP_FUNDAMENTALS_HISTORY",e.EXPORT_CHART_DATA="EXPORT_CHART_DATA",e.ALERTS_ON_SECONDS="ALERTS_ON_SECONDS",e.PERMANENT_STREAM_RECORDS="PERMANENT_STREAM_RECORDS",e.IDEA_SOCIAL_LINKS="IDEA_SOCIAL_LINKS",e.EXTENDED_SOCIAL_LINKS="EXTENDED_SOCIAL_LINKS",e.DEEP_HISTORY_BACKTEST="DEEP_HISTORY_BACKTEST",e.BACKTESTING_EXPORT="BACKTESTING_EXPORT",e.USE_BAR_MAGNIFIER="USE_BAR_MAGNIFIER",e.HISTORICAL_BARS="HISTORICAL_BARS",e.KAGI_RENKO="KAGI_RENKO",
e.INTRADAY_SPREAD="INTRADAY_SPREAD",e.SECONDS_INTERVALS="SECONDS_INTERVALS",e.MULTICOLOR_FLAGGED_SYMBOLS="MULTICOLOR_FLAGGED_SYMBOLS",e.INTRADAY_EXCHANGE="INTRADAY_EXCHANGE",e.CUSTOM_CHATS="CUSTOM_CHATS",e.VOLUME_PROFILE="VOLUME_PROFILE",e.PRIMITIVE_ALERTS="PRIMITIVE_ALERTS",e.COMPLEX_ALERTS="COMPLEX_ALERTS",e.TV_PROSTUDIES="TV_PROSTUDIES",e.CHART_PATTERNS="CHART_PATTERNS",e.SMS_2FA_VERIFICATION="SMS_2FA_VERIFICATION",e.SOCIAL_ACTIVITY="SOCIAL_ACTIVITY"}(n||(n={}));const r=99999},849204:(e,t,i)=>{i.r(t),i.d(t,{LogoSize:()=>n,LogoUrlResolver:()=>_,getLogoUrlResolver:()=>a});var n,r=i(650151),s=i(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(n||(n={}));class _{constructor(e){(0,r.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,r.assert)(""!==e,"logo id must be a non-empty string"),t){case n.Medium:return this._baseUrl+`${e}.svg`;case n.Large:return this._baseUrl+`${e}--big.svg`}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}}let o;function a(){return function(){if(!o){const e=(0,s.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";o=new _(t)}return o}()}},175203:(e,t,i)=>{i.d(t,{telemetry:()=>c});var n=i(707957),r=i(120780),s=i(638456),_=i(314802);i(659863);const o=(0,i(201089).getLogger)("Common.Telemetry"),a={default:15e3,site:3e5},l=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const c=new class{constructor(){this.reportSent=new n.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,i){var n;if(!this._isAbleToSendReport(t))return;const r=this._getSubserviceType(e),s=this._getHost(e,r);if(null!==s){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,s),!this._timeoutIds[e]){const t=null!==(n=a[e])&&void 0!==n?n:a.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,s),t)}}else o.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${r}`)}sendChartReport(e,t,i=!0){this._sendServiceSpecifiedReport("charts",e,t,i)}sendLineToolsStorageReport(e,t,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,i)}_sendServiceSpecifiedReport(e,t,i,n=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,n&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(e,t,i)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,i=l.includes(e),n=Boolean(window.TradingView.onChartPage||(0,
s.onWidget)());return t&&(!i||n)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),i=this._renameAllParams(e),n={event:"report_stash",params:this._cleanAllParams(i)};o.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,r.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(n)})}this._timeoutIds[e]=null}_getHost(e,t){const i=window.TELEMETRY_HOSTS,n=i[e]&&i[e][t];return Boolean(n)?n:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const i=window.user.is_pro;return"charts"===e&&(0,_.isOnMobileAppPage)("old")?t=i?"ios_pro":"ios_free":"charts"===e&&(0,_.isOnMobileAppPage)("new")?t=i?"android_pro":"android_free":(0,s.onWidget)()?t="widget":i&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return o.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(t);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){var t;for(const i in e)e.hasOwnProperty(i)&&e[i].length>1e3&&(e.too_much_metrics_frame=null!==(t=e.too_much_metrics_frame)&&void 0!==t?t:[],e.too_much_metrics_frame.push({value:e[i].length,additional:{event:i}}),delete e[i]);return e}_renameAllParams(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=[],e[i].forEach((e=>{t[i].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((i,n)=>(i[t[n]]=e[n],i)),{})}_cleanAllParams(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){t[i]=[];const n={c:0};e[i].forEach((e=>{const r=this._cleanEntryParams(e),s=Object.keys(r).length;1===s&&void 0!==r.c?n.c+=r.c:s>0&&t[i].push(r)})),n.c>0&&t[i].push(n),0===t[i].length&&delete t[i]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,i)=>"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)}}},779923:(e,t,i)=>{async function n(e,t){const n=await Promise.all([i.e(22666),i.e(62253),i.e(92191),i.e(9817),i.e(34465),i.e(92108),i.e(69121),i.e(66639),i.e(88194),i.e(30006),i.e(26855),i.e(43610),i.e(96899),i.e(962),i.e(745),i.e(45553),i.e(38890)]).then(i.bind(i,894185));return n.showSimpleDialog(e,n.renameModule,t)}async function r(e,t){const n=await Promise.all([i.e(22666),i.e(62253),i.e(92191),i.e(9817),i.e(34465),i.e(92108),i.e(69121),i.e(66639),i.e(88194),i.e(30006),i.e(26855),i.e(43610),i.e(96899),i.e(962),i.e(745),i.e(45553),i.e(38890)]).then(i.bind(i,894185));return n.showSimpleDialog(e,n.confirmModule,t)}async function s(e,t){
const n=await Promise.all([i.e(22666),i.e(62253),i.e(92191),i.e(9817),i.e(34465),i.e(92108),i.e(69121),i.e(66639),i.e(88194),i.e(30006),i.e(26855),i.e(43610),i.e(96899),i.e(962),i.e(745),i.e(45553),i.e(38890)]).then(i.bind(i,894185));return n.showSimpleDialog(e,n.warningModule,t)}i.r(t),i.d(t,{showConfirm:()=>r,showRename:()=>n,showWarning:()=>s})},224743:(e,t,i)=>{i.d(t,{globalCloseDelegate:()=>n,globalCloseMenu:()=>r});const n=new(i(707957).Delegate);function r(){n.fire()}},799402:(e,t,i)=>{i.d(t,{AuthToken:()=>o});var n=i(707957),r=i(201089),s=i(120780);const _=(0,r.getLogger)("ChartApi.AuthToken",{color:"#173"});class o{constructor(){this.invalidated=new n.Delegate,this._tid=0,window.loginStateChange||(window.loginStateChange=new n.Delegate),window.loginStateChange.subscribe(this,(e=>{e||(this._set(window.user.auth_token),this.invalidated.fire())})),this._set(window.user.auth_token)}get(e){return window.is_authenticated?!e&&performance.now()<this._cache.monoValidThru&&Date.now()<this._cache.wallValidThru?(_.logInfo(`Using cached token ${this._cache.token}`),Promise.resolve(this._cache.token)):this._fetch(Boolean(e),0).then((e=>{if(!window.is_authenticated)throw new Error("User logged out while the request was in flight");return this._set(e),e})).catch((e=>(_.logError(`Error fetching new token: ${e&&e.message}`),""))):Promise.resolve("")}reset(){this._set(void 0),this.invalidated.fire()}_set(e){if(window.is_authenticated&&void 0!==e){const t=function(e){if(""===e)return 144e5;try{const t=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),i=1e3*(t.exp-t.iat);if(!isFinite(i))throw new Error("invalid expiration");return Math.max(i-3e5,3e5)}catch(t){return _.logError(`${e} is invalid: ${t.message}`),144e5}}(e);this._cache={token:e,monoValidThru:performance.now()+t,wallValidThru:Date.now()+t},clearTimeout(this._tid),this._tid=setTimeout((()=>this.reset()),t),_.logInfo(`Cached for ${t} ms: ${e}`)}else this._cache={token:"",monoValidThru:-1/0,wallValidThru:-1/0},clearTimeout(this._tid),_.logInfo("Cache dropped")}_fetch(e,t){return _.logNormal(`Fetching a new token, grabSession=${e}`),(0,s.fetch)("/quote_token/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e?"grabSession=true":""}).then((e=>{if(!e.ok)throw new Error(`Response status is not ok: ${e.status}`);return e.json().then(String)}),(i=>{if(t>=3)throw i;return _.logWarn("Request failed, will retry"),function(e){return new Promise((t=>setTimeout(t,1e3*e)))}(t).then((()=>this._fetch(e,t+1)))}))}}},6613:(e,t,i)=>{i.r(t),i.d(t,{QUOTE_FIELDS:()=>s,QUOTE_FIELDS_CACHE:()=>_,QuoteCache:()=>r});var n=i(650151);class r{constructor(e){this._cache=new Map,this._fields=[...e.fields]}update(e,t,i){const r=(0,n.ensureDefined)(e.symbolname);if(this._cache.has(r)||this._cache.set(r,{symbolname:r,status:e.status,values:{}}),"error"===e.status)return;const s=(0,n.ensureDefined)(this._cache.get(r));s.status=e.status;for(const n of this._fields)t.has(n)&&(i||void 0!==e.values[n])&&(s.values[n]=e.values[n])}get(e){var t
;return null!==(t=this._cache.get(e))&&void 0!==t?t:null}fields(){return this._fields}}
const s=new Set(["pro_name","base_name","logoid","currency-logoid","base-currency-logoid","source-logoid","short_name","timezone","current_session","last_price","lp_time","prev_close_price","open_price","high_price","low_price","price_52_week_high","price_52_week_low","ask","ask_size","bid","bid_size","rch","rchp","rtc","data_frequency","reference-last-period-start","business_description","web_site_url","number_of_employees","float_shares_outstanding","earnings_release_next_calendar_date","root","description","exchange","listed_exchange","type","country_code","provider_id","sector","typespecs","visible-plots-set","industry","currency_id","last_price","fractional","minmov","minmove2","pricescale","change","change_percent","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_fq","fundamental_currency_code","number_of_employees","web_site_url","business_description","founded","ceo","float_shares_outstanding","total_shares_outstanding","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","total_revenue_fq_h","total_revenue_fy_h","net_income_fy_h","net_income_fq_h","total_assets_fy_h","total_assets_fq_h","total_liabilities_fy_h","total_liabilities_fq_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","fiscal_period_fy_h","fiscal_period_fq_h","earnings_release_date_fq_h","earnings_release_next_date_fq","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_fq_h","earnings_per_share_fq_h","earnings_fiscal_period_fq_h","next_earnings_fiscal_period_fq","earnings_release_next_time","is_next_earnings_release_date_estimated","symbol-primaryname","currency_code","rates_mc","rates_fy","rates_ttm","value_unit_id","value-unit-id","update_mode","language","local_description","short_description","source","source2","format","recommendation_mark","last_report_frequency","price_target_estimates_num","price_target_average","update_mode_seconds","recommendation_total","recommendation_buy","recommendation_over","recommendation_hold","recommendation_under","recommendation_sell","recommendation_total","price_target_high","price_target_low","rates_pt","rates_pt","total_revenue_fy_h","total_revenue_fq_h","total_revenue_fh_h","net_income_fy_h","net_income_fq_h","net_income_fh_h","total_assets_fy_h","total_assets_fq_h","total_assets_fh_h","total_liabilities_fy_h","total_liabilities_fq_h","total_liabilities_fh_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_operating_activities_fh_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_investing_activities_fh_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","cash_f_financing_activities_fh_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","fiscal_period_fy","earnings_release_date_fq_h","earnings_release_date_fy_h","earnings_release_date_fh_h","earnings_release_next_date_fq","earnings_release_next_date_fy","earnings_release_next_date_fh","earnings_release_next_time","is_next_earnings_release_date_estimated","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_next_fy","earnings_per_share_forecast_next_fh","earnings_per_share_forecast_fq_h","earnings_per_share_forecast_fy_h","earnings_per_share_forecast_fh_h","earnings_per_share_fq_h","earnings_per_share_fy_h","earnings_per_share_fh_h","earnings_fiscal_period_fq_h","earnings_fiscal_period_fy_h","earnings_fiscal_period_fh_h","next_earnings_fiscal_period_fq","next_earnings_fiscal_period_fy","next_earnings_fiscal_period_fh","revenue_fq_h","revenue_fy_h","revenue_fh_h","revenue_forecast_fq_h","revenue_forecast_fy_h","revenue_forecast_fh_h","revenue_forecast_next_fq","revenue_forecast_next_fy","revenue_forecast_next_fh","revenue_seg_by_business_h","revenue_seg_by_region_h","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","dividend_amount_h","total_revenue_fy","gross_profit_fy","ebitda_fy","ebit_fy","net_income_fy","total_debt_fy_h","free_cash_flow_fy_h","cash_n_equivalents_fy_h","total_current_assets_fy","total_current_liabilities_fy","total_non_current_assets_fy","total_non_current_liabilities_fy","price_sales_fy_h","price_earnings_fy_h","diluted_net_income_ttm","total_revenue_ttm","price_earnings_current","price_sales_current","isin","website","doc","reddit","twitter","facebook","telegram","forum","explorer","chat","sources","contracts","crypto_common_categories","crypto_asset","dividends_availability","earnings_availability","financials_availability","etf_region_exposure","top_holdings","unit-id","options-info"]),_=new r({
fields:s})},876332:(e,t,i)=>{i.r(t),i.d(t,{destroyQuoteSessions:()=>l,getQuoteSessionInstance:()=>_,getQuoteSessionNoEnsure:()=>a,setQuoteSessionInstance:()=>o});var n=i(11228),r=i.n(n);const s={};function _(e="full"){return s[e]||o(e,new(r())(e)),s[e]}function o(e="full",t){s[e]=t}function a(e="full"){return s[e]}function l(){for(const e in s)if(s.hasOwnProperty(e)){const t=s[e];void 0!==t&&t.destroy(),delete s[e]}}},433084:(e,t,i)=>{i.d(t,{QuoteSession:()=>r});var n=i(541558);class r{constructor(e,t=(0,n.randomHash)()){this._sessionstarted=!1,this._globalHandler=null,this._chartApi=e,this._sessionid="qs_"+t}destroy(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionstarted=!1)}connected(){return this._chartApi.connected()}connect(e){this._globalHandler=e,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()}disconnect(){this._chartApi.disconnect()}quoteAddSymbols(e){this._chartApi.quoteAddSymbols(this._sessionid,e)}quoteRemoveSymbols(e){this._chartApi.quoteRemoveSymbols(this._sessionid,e)}quoteFastSymbols(e){this._chartApi.quoteFastSymbols(this._sessionid,e)}quoteSetFields(e){this._chartApi.quoteSetFields(this._sessionid,e)}onMessage(e){var t;switch(e.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}null===(t=this._globalHandler)||void 0===t||t.call(this,e)}quoteHibernateAll(){this._chartApi.quoteHibernateAll(this._sessionid)}}window.TradingView.QuoteSession=r},11228:(e,t,i)=>{e=i.nmd(e);var n=i(343370).default,r=i(12481).default,s=i(402084).PriceFormatter;const{uniq:_}=i(337779);var o=i(541558);const{normalizeUpdateMode:a}=i(461909);var l=i(329806).deepExtend;const{QUOTE_FIELDS_CACHE:c,QUOTE_FIELDS:u}=i(6613);var d,h=i(707957).Delegate;function S(e,t){this.options=Object.assign({throttleTimeout:125},t),this._connected=!1,this._symbol_data={},this._subscriptions={},this.onConnect=new h,this.onDisconnect=new h,this._quoteApi=new d(window.ChartApiInstance),this._type=e||"full",this._delayUpdateFastSymbols=r(this._updateFastSymbols,250),this._throttledSymbolData={},this._formatterValuesCache={},this._waitingForFormatters={},this._snapshotValuesCache={},this._waitingForSnapshot={},this.connect()}d=i(433084).QuoteSession,S.prototype.destroy=function(){this._quoteApi.destroy(),this._quoteApi=null,this._connected=!1,this.onDisconnect.fire()},S.prototype.typeFields={},S.prototype.typeFields.simple=["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","value_unit_id"],
S.prototype.typeFields.simpleDetailed=[].concat(S.prototype.typeFields.simple,["ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"]),S.prototype.typeFields.full=[],S.prototype.typeFields.watchlist=[].concat(S.prototype.typeFields.simple,["rchp","rtc","country_code","provider_id"]),S.prototype.typeFields.portfolio=["pro_name","short_name","exchange","listed_exchange","description","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id"],S.prototype.typeFields.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],S.prototype.typeFields.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],S.prototype.connect=function(e){this._quoteApi.connect(this.quoteHandler.bind(this))},S.prototype.quoteHandler=function(e){var t=e.method,i=e.params;switch(t){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(i[0]);break;case"quote_completed":this._connected&&this.onSymbolData({symbolname:i[0],complete:performance.now(),values:{}});break;case"disconnected":this._connected&&(this._connected=!1,this.onDisconnect.fire())}},S.prototype.onConnected=function(){this.setFields();var e=Object.keys(this._symbol_data);e.length&&(this._quoteApi.quoteAddSymbols(e),this._delayUpdateFastSymbols()),this.onConnect.fire()},S.prototype.setFields=function(){var e=S.prototype.typeFields[this._type];e&&e.length&&this._quoteApi.quoteSetFields(e)},S.prototype.onSymbolData=function(e){try{e.status&&c.update(e,u,!1)}catch(e){}var t=e.symbolname,i=this._throttledSymbolData[t];i||(i=this._throttledSymbolData[t]={fnDispatch:n(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)}),i.cache?l(i.cache,e):i.cache=e,i.fnDispatch(t)},S.prototype._parseUpdateMode=function(e){a(e)},S.prototype.dipatchSymbolData=function(e){var t=this._symbol_data[e],i=this._throttledSymbolData[e].cache;if(delete this._throttledSymbolData[e].cache,this._symbol_data[e])for(var n in l(t,i),t.values&&this._parseUpdateMode(t.values),this._subscriptions){var r=this._subscriptions[n]
;r.has(e)&&[...r.get(e)].forEach((function(e){e(t,i)}))}},S.prototype.subscribe=function(e,t,i){this._subscriptions[e]=this._subscriptions[e]||new Map;var n=this._subscriptions[e];t=[].concat(t);var r=[];t.forEach((function(e){this._symbol_data[e]?n&&n.has(e)||this._symbol_data[e].subscribers_count++:(this._symbol_data[e]={subscribers_count:1},r.push(e)),n.has(e)||n.set(e,[]),n.get(e).push(i),n.get(e).fast=!0,this._symbol_data[e]&&this._symbol_data[e].values&&i(this._symbol_data[e],this._symbol_data[e])}),this),r.length&&this._connected&&(this._quoteApi.quoteAddSymbols(r),this._delayUpdateFastSymbols())},S.prototype.unsubscribe=function(e,t,i){t=[].concat(t);for(var n=this._subscriptions[e],r=[],s=0;s<t.length;s++){var _=t[s];if(n)if(n.has(_)&&i){var o=n.get(_).indexOf(i);~o&&n.get(_).splice(o,1),n.get(_).length||n.delete(_)}else n.delete(_);n&&0===n.size&&delete this._subscriptions[e],this._symbol_data.hasOwnProperty(_)&&(n&&!n.has(_)&&this._symbol_data[_].subscribers_count--,this._symbol_data[_].subscribers_count||(delete this._symbol_data[_],r.push(_)))}r.length&&this._connected&&(this._quoteApi.quoteRemoveSymbols(r),this._delayUpdateFastSymbols())},S.prototype.setFastSymbols=function(e,t){if(this._subscriptions[e])for(var i=this._subscriptions[e],n=Array.from(i.keys()),r=0;r<n.length;++r){var s=n[r];i.get(s).fast=-1!==t.indexOf(s)}this._delayUpdateFastSymbols()},S.prototype._updateFastSymbols=function(){if(this._connected){var e=this._fastSymbols();0===e.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(e)}},S.prototype._delayUpdateFastSymbols=S.prototype._updateFastSymbols,S.prototype._fastSymbols=function(){var e=[];for(var t in this._subscriptions)for(var i=this._subscriptions[t],n=Array.from(i.keys()),r=0;r<n.length;++r){var s=n[r];i.get(s).fast&&e.push(s)}return e=_(e)},S.prototype.formatter=function(e,t){var i=this;if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function n(e){var i=t&&!e.fractional?1:e.minmov;return new s(e.pricescale,i,e.fractional,e.minmove2)}var r=new Promise((function(t,r){if(i._formatterValuesCache[e])t(n(i._formatterValuesCache[e]));else{var s=o.guid();i.subscribe(s,[e],(function(_){"error"===_.status&&(i._waitingForFormatters[e]=null,r("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(_.values)&&(i._waitingForFormatters[e]=null,i._formatterValuesCache[e]=_.values,t(n(_.values)),i.unsubscribe(s,e))}))}}));return this._waitingForFormatters[e]=r,r},S.prototype.snapshot=function(e){var t=this;if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];var i=new Promise((function(i,n){if(t._snapshotValuesCache[e])i(t._snapshotValuesCache[e]);else{var r=o.guid();t.subscribe(r,[e],(function(s){"error"===s.status&&(t._waitingForSnapshot[e]=null,n("Quotes snapshot is not received"));var _=s.values;_&&_.minmov&&_.pricescale&&_.description&&(t._waitingForSnapshot[e]=null,t._snapshotValuesCache[e]=_,i(_),t.unsubscribe(r,e))}))}}));return this._waitingForSnapshot[e]=i,i},
TradingView.QuoteSessionMultiplexer=S,e&&e.exports&&(e.exports=S)},428123:(e,t,i)=>{function n(e){const t=Object.create(e);return t.release=()=>{},t.ownership=()=>t,t}function r(e){const t=Object.create(e);return t.release=()=>e.destroy(),t.ownership=()=>t,t}i.r(t),i.d(t,{ownership:()=>r,weakReference:()=>n})},129025:(e,t,i)=>{i.r(t),i.d(t,{WatchedValue:()=>_});var n=i(428123);const r=(0,i(194582).getLogger)("Common.WatchedValue");function s(e){r.logError(`${e&&(e.stack||e.message)}`)}class _{constructor(...e){this._listeners=[],e.length>0&&(this._value=e[0])}destroy(){this.unsubscribe()}value(){return this._owner?this._owner._value:this._value}setValue(e,t){const i=this._owner?this._owner:this;if("function"==typeof i.hook&&(e=i.hook(e)),i.writeLock)return;const n=i._value===e||Number.isNaN(i._value)&&Number.isNaN(e);if(!t&&n&&i.hasOwnProperty("_value"))return;i._value=e;const r=i._listeners.slice();let _=0;for(let t=0;t<r.length;t++){r[t].once&&(i._listeners.splice(t-_,1),_++);try{r[t].cb(e)}catch(e){s(e)}}}deleteValue(){this.setValue(void 0)}subscribe(e,t){if("function"!=typeof e)throw new TypeError("callback must be a function");const i=!!t&&!!t.once,n=!!t&&!!t.callWithLast,r=this._owner?this._owner:this;if(n&&r.hasOwnProperty("_value")){try{e(r._value)}catch(e){s(e)}if(i)return}r._listeners.push({cb:e,owner:this,once:!!t&&!!t.once})}unsubscribe(e){const t=this._owner?this._owner:this;void 0===e&&(e=null);const i=t._listeners;for(let n=i.length;n--;)i[n].owner!==this&&t!==this||i[n].cb!==e&&null!==e||i.splice(n,1)}readonly(){if(this._readonlyInstance)return this._readonlyInstance;const e={subscribe:this.subscribe.bind(this),unsubscribe:this.unsubscribe.bind(this),value:this.value.bind(this),when:this.when.bind(this),ownership:this.ownership.bind(this),spawnOwnership:this.spawnOwnership.bind(this),weakReference:this.weakReference.bind(this),spawn:e=>this.spawn(e).readonly(),destroy:this.destroy.bind(this)};return this._readonlyInstance=e,e}spawn(e){return new o(this._owner||this,e)}when(e){!function(e,t,i){if(t(e.value()))return void i();const n=r=>{t(r)&&(e.unsubscribe(n),i())};e.subscribe(n,{callWithLast:!0})}(this,(e=>Boolean(e)),(()=>{try{e(this.value())}catch(e){s(e)}}))}assertNoSubscriptions(){0}ownership(){return(0,n.ownership)(this)}spawnOwnership(){return(0,n.ownership)(this.spawn())}weakReference(){return(0,n.weakReference)(this)}}class o extends _{constructor(e,t){super(),delete this._listeners,this._owner=e,this._onDestroy=t}destroy(){var e;try{null===(e=this._onDestroy)||void 0===e||e.call(this)}catch(e){s(e)}super.destroy()}readonly(){return super.readonly()}}},846540:(e,t,i)=>{i.r(t),i.d(t,{types:()=>n});const n={ECONOMIC:"economic",QUANDL:"quandl"}},746133:(e,t,i)=>{var n;i.d(t,{BillingCycle:()=>n}),function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y",e.TwoYears="2y"}(n||(n={}))},822122:(e,t,i)=>{var n,r,s,_;i.d(t,{BrokerPlans:()=>s,BrokerPlansIds:()=>_,ExpertPlans:()=>r,ProPlans:()=>n}),function(e){e.Free="free",e.Pro="pro",e.ProTrial="pro_trial",e.ProRealtime="pro_realtime",
e.ProRealtimeTrial="pro_realtime_trial",e.ProPremium="pro_premium",e.ProPremiumTrial="pro_premium_trial"}(n||(n={})),function(e){e.ProExpert="pro_expert",e.ProRealtimeExpert="pro_realtime_expert",e.PremiumExpert="pro_premium_expert"}(r||(r={})),function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(s||(s={})),function(e){e[e.Platinum=3]="Platinum",e[e.Gold=2]="Gold",e[e.Silver=1]="Silver",e[e.Free=0]="Free"}(_||(_={}))},397150:(e,t,i)=>{i.d(t,{showTooManyStudiesNotice:()=>o});var n=i(444372),r=i(740254),s=i(833813),_=i(779923);function o(e){"number"!=typeof e&&(e=TradingView.STUDY_COUNT_LIMIT,e=(0,r.getConfig)(s.ProductFeatures.STUDY_ON_STUDY).limit),(0,_.showWarning)({title:n.t(null,void 0,i(533603)),text:n.t(null,void 0,i(470213)).format({number:e})})}},255453:(e,t,i)=>{i.r(t),i.d(t,{CUSTOM_SUFFIX:()=>a,EA_SUFFIX:()=>o,TRIAL_SUFFIX:()=>_,billingCycleToMonth:()=>R,billingCycleToTimeUnit:()=>l,billingPeriodText:()=>d,countDiscountByBillingCycle:()=>g,floor0:()=>C,getDiscountFromEarlyAccess:()=>p,getPlanName:()=>N,getProductForTrial:()=>m,getReadableCycle:()=>c,getReadableNumericCycle:()=>u,getRelativeAmountOfDaysFromBillingCycle:()=>A,humanizeCardPlan:()=>f,humanizeProPlan:()=>E,isEarlyAccess:()=>h,isOldUser:()=>L,isTrialProduct:()=>S,round0:()=>y,round1or0:()=>v,round2:()=>I,round2or0:()=>O,roundMinimal:()=>b,toEarlyAccess:()=>T});i(586463);var n=i(444372),r=i(822122),s=i(746133);const _="_trial",o="_discount",a="_custom";function l(e){return{y:n.t(null,{plural:"years",count:1},i(870659)),m:n.t(null,{plural:"months",count:1},i(99062)),"3m":n.t(null,void 0,i(252656)),"2y":n.t(null,void 0,i(943350))}[e]}function c(e){return{m:n.t(null,void 0,i(438144)),y:n.t(null,void 0,i(739048)),"3m":n.t(null,void 0,i(490227)),"2y":n.t(null,void 0,i(565851))}[e]||""}function u(e){return{[s.BillingCycle.Monthly]:n.t(null,void 0,i(438144)),[s.BillingCycle.OneYear]:n.t(null,void 0,i(187534)),[s.BillingCycle.ThreeMonths]:n.t(null,void 0,i(490227)),[s.BillingCycle.TwoYears]:n.t(null,void 0,i(122354))}[e]||""}function d(e){var t;return null!==(t={y:n.t(null,void 0,i(304183)),m:n.t(null,void 0,i(432950)),"2y":n.t(null,void 0,i(89571))}[e])&&void 0!==t?t:""}function h(e){return/\d{0,2}_discount$/.test(e)}function S(e){return new RegExp(_+"$").test(e)}function m(e){return e.split(_)[0]}function p(e){const t=e.match(new RegExp("^(d{0,2})"+o+"$"));return t?+t[1]||50:0}function T(e,t){return`${e}_${t}${o}`}function E(e,t){let s=e;switch(e){case r.ProPlans.Free:s="Basic";break;case r.ProPlans.Pro:s="Pro";break;case r.ProPlans.ProRealtime:s="Pro+";break;case r.ProPlans.ProPremium:s="Premium";break;case r.ExpertPlans.ProExpert:s="Expert";break;case r.ExpertPlans.ProRealtimeExpert:s="Elite";break;case r.ExpertPlans.PremiumExpert:s="Ultimate"}return t&&(s+=" "+n.t(null,void 0,i(679372))),s}function f(e){let t=e;switch(e){case r.ProPlans.Pro:t="Pro";break;case r.ProPlans.ProRealtime:t="Pro+";break;case r.ProPlans.ProPremium:t="Premium";break;case r.ProPlans.Free:t="Basic"}return t}function A(e,t){
const i=t||new Date,n=R(e),r=i.getMonth()+n,s=new Date(new Date(i).setMonth(r));return s.getMonth()>r%12&&s.setDate(0),function(e,t){const i=t.getTime()-e.getTime();return Math.round(i/1e3/60/60/24)}(i,s)}function g(e,t,i){return Math.round((t-e)*R(i))}function R(e){switch(e){case s.BillingCycle.TwoYears:return 24;case s.BillingCycle.OneYear:return 12;case s.BillingCycle.ThreeMonths:return 3;default:return 1}}function I(e){return(Math.round(100*e)/100).toFixed(2)}function y(e){const t=Math.round(100*e)/100;return Math.round(t).toFixed(0)}function C(e){return Math.floor(e).toString()}function O(e){const t=Math.round(100*e)/100,i=Math.round(t);return Math.abs(t-i)>0?t.toFixed(2):i.toFixed(0)}function v(e){return Number.isInteger(e)?e.toFixed(0):(Math.round(10*e)/10).toFixed(1)}function b(e){const t=Math.round(100*e)/100,i=Math.round(10*e)/10,n=Math.round(t);return Math.abs(t-n)>0?Math.abs(t-i)>0?t.toFixed(2):i.toFixed(1):n.toFixed(0)}function N(e){const t=n.t(null,void 0,i(133011));if(S(e)){const i=E(m(e));return t.format({proPlanName:i})}return E(e)}function L(){return!!window.user.date_joined&&new Date(window.user.date_joined).getTime()<new Date("2022-05-26").getTime()}},665570:(e,t,i)=>{i.d(t,{getTranslatedSymbolDescription:()=>s});var n=i(444372);function r(e){const t=`#${e}-symbol-description`,r=n.t(t,void 0,i(118562));return r===t?null:r}function s(e){if(void 0!==e.pro_name){const t=r(e.pro_name);if(null!==t)return t;if(void 0!==e.short_name){const t=r(e.short_name);if(null!==t)return t}}return"en"!==e.language&&void 0!==e.local_description&&e.language===window.language||"en"===e.language&&void 0!==e.local_description&&e.language===window.language?e.local_description:e.description||""}},337779:(e,t,i)=>{function n(e){return e.reduce((function(e,t,i){return~e.indexOf(t)||e.push(t),e}),[])}i.r(t),i.d(t,{uniq:()=>n})}}]);